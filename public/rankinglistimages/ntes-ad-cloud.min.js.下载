if("undefined"==typeof DMAD){var DMAD={};for(DMAD.generateUUID=function(){var b,a=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(a+=performance.now()),b="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=0|(a+16*Math.random())%16;return a=Math.floor(a/16),("x"==b?c:8|3&c).toString(16)})},DMAD.getQueryString=function(a,b){var c=new RegExp("(^|&)"+b+"=([^&]*)(&|$)"),d=a.split("?")[1].match(c);return d?decodeURIComponent(d[2]):null},DMAD.feUUID=DMAD.generateUUID(),DMAD.insArry=document.getElementsByTagName("ins"),DMAD.ins=[],DMAD.index=0,DMAD.count=0;DMAD.index<DMAD.insArry.length;DMAD.index++)("adsbydm"==DMAD.insArry[DMAD.index].getAttribute("class")||"adsbydm"==DMAD.insArry[DMAD.index].getAttribute("className"))&&(DMAD.ins.push(DMAD.insArry[DMAD.index]),DMAD.width=DMAD.insArry[DMAD.index].getAttribute("inner-width"),DMAD.height=DMAD.insArry[DMAD.index].getAttribute("inner-height"),DMAD.prod=DMAD.insArry[DMAD.index].getAttribute("inner-prod"),DMAD.src=DMAD.insArry[DMAD.index].getAttribute("inner-src")+"&uuid="+DMAD.feUUID,DMAD.obj=document.createElement("div"),DMAD.obj.innerHTML='<iframe id="'+DMAD.feUUID+'" width="'+DMAD.width+'" height="'+DMAD.height+'" prod="'+DMAD.prod+'" frameborder="0" scrolling="no" border="0" src="'+DMAD.src+'"></iframe>',DMAD.insArry[DMAD.index].insertBefore(DMAD.obj,DMAD.insArry[DMAD.index].firstChild));DMAD.getElementPosition=function(a){for(var b=0,c=0;null!==a;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return{x:b,y:c}},DMAD.getViewport=function(){return"BackCompat"==document.compatMode?{width:document.body.clientWidth,height:document.body.clientHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},DMAD.getScrollTop=function(){return"BackCompat"==document.compatMode?{sLeft:document.body.scrollLeft,sTop:document.body.scrollTop}:{sLeft:0==document.documentElement.scrollLeft?document.body.scrollLeft:document.documentElement.scrollLeft,sTop:0==document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}},DMAD.exposureTime=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(a=0;a<DMAD.ins.length;a++)b=DMAD.ins[a].firstChild,c=DMAD.getElementPosition(b).y,d=DMAD.getScrollTop().sTop,e=DMAD.getViewport().height,f=b.offsetHeight,c>=d&&d+e>=c+f&&(DMAD.count++,g=b.firstChild.src,h=DMAD.getQueryString(g,"site")+"_"+DMAD.getQueryString(g,"affiliate")+"_"+DMAD.getQueryString(g,"cat")+"_"+DMAD.getQueryString(g,"type")+"_"+DMAD.getQueryString(g,"location"),i=b.firstChild.getAttribute("prod"),j="https://rec.g.163.com/kaolaadclick/api/dsp/show.s?uuid="+DMAD.feUUID+"_"+DMAD.count+"&posid="+h+"&timestamp="+(new Date).getTime()+"&prod="+i,k=document.createElement("script"),l=document.getElementsByTagName("head")[0],k.src=j,l.appendChild(k),DMAD.ins.splice(a,1));0==DMAD.ins.length&&window.clearInterval(DMAD.intervalTask)},DMAD.intervalTask=window.setInterval("DMAD.exposureTime();",500)}